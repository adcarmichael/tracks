{% extends "base.html" %}
{% block title %} Routes {% endblock %}

{% block content %}

<section data-uk-filter="target: .js-filter"
    class="uk-section uk-section-xsmall uk-section-default uk-padding-remove-bottom">
    <div class="uk-container uk-container-expand uk-margin-large-bottom">

        <div class="uk-grid-small uk-grid-divider uk-child-width-auto " uk-grid>
            <div class='uk-visible@l'>
                <ul class="uk-subnav uk-subnav-pill" uk-margin>
                    {% for grade_name in grade_names %}
                    <li {% if active_grade == grade_name %} class="uk-active" {% endif %}
                        uk-filter-control="filter: [data-grade='{{grade_name}}']; group: data-grade"><a
                            href="#">{{grade_name}}</a></li>

                    {% endfor %}
                </ul>
            </div>
            <div class='uk-hidden@l'>
                <button class="uk-button uk-button-default" type="button">Grade</button>
                <div uk-dropdown>
                    <ul class="uk-nav uk-dropdown-nav">
                        {% for grade_name in grade_names %}
                        <li uk-filter-control="filter: [data-grade='{{grade_name}}']; group: data-grade"><a
                                href="#">{{grade_name}}</a>
                        </li>
                        {% endfor %}

                    </ul>
                </div>
            </div>
            <div>
                <button class="uk-button uk-button-default" type="button">Filter</button>
                <div uk-dropdown>
                    <ul class="uk-nav uk-dropdown-nav">
                        <li uk-filter-control><a href="#">Clear Filters</a></li>
                        <li class="uk-nav-header">Sub Grades</li>
                        {% for grade_sub_name in grade_sub_names %}
                        <li uk-filter-control="filter: [data-sub-grade='{{grade_sub_name}}']; group: data-sub-grade">
                            <a href="#">{{grade_sub_name}}</a>
                        </li>
                        {% endfor %}
                        <li class="uk-nav-header">Climb Status</li>
                        <li uk-filter-control="filter: [data-climbed='True']; group: climbed"><a href="#">Climbed</a>
                        </li>
                        <li class="uk-active" uk-filter-control="filter: [data-climbed='False']; group: climbed"><a
                                href="#">Unclimbed</a>
                    </ul>
                </div>
            </div>
        </div>

        <style>
            .rotate-45-right:before {
                -o-transform: rotate(45deg);
                -webkit-transform: rotate(45deg);
                transform: rotate(45deg);
            }
        </style>
        <br>
        <!-- uk-child-width-1-2@s uk-child-width-1-3@s  uk-child-width-1-4@l  uk-grid-match  -->
        <div uk-grid
            class="uk-grid uk-grid-small uk-padding-remove uk-child-width-1-4@s  uk-child-width-1-5@m uk-grid-match js-filter"
            uk-height-match="target: > div > .uk-card; row: false">
            <!-- card -->
            {% for route_id, number, grade, grade_sub, colour, icon, is_climbed, date_climbed in route_data %}
            <div data-grade='{{grade}}' data-sub-grade={{grade_sub}} data-climbed='{{is_climbed}}'
                class="{{grade}}-grade is_climbed_{{is_climbed}}" data-tags="">
                <div id='id-card-{{route_id}}' href="#modal-sections-{{route_id}}" uk-toggle
                    class="uk-card uk-card-small uk-card-hover uk-margin-remove {%if is_climbed %} uk-background-muted{% endif %}">
                    <div class="uk-card-header">
                        <div class="uk-grid uk-grid-small uk-flex-middle" data-uk-grid>
                            <div class="uk-width-auto">
                                <i class='{{icon}}' style="color: {{colour}}"></i>

                                <!-- <i class=" fa fa-arrow-circle-up fa-2x rotate-45-right"  style="color: #E74C3C"></i> -->
                            </div>
                            <div class="uk-width-expand">
                                <span class="uk-card-title uk-margin-remove-bottom">#{{number}}</span>
                                <!-- <span class=""><i class="fas fa-bullseye fa-lg fa-1x" style="color: #EBEDEF"></i></span> -->
                                {% if is_climbed %}
                                <span class=""><i class="far fa-hand-rock fa-lg fa-1x"
                                        style="color: #34495E "></i></span>
                                {% endif %}
                                {% if is_climbed %}
                                <p class="uk-text-meta uk-margin-remove-top "><time datetime="2016-04-01T19:00">
                                        {{date_climbed}}</time></p>
                                {% else %}
                                <p class="uk-text-meta uk-margin-remove-top "> </p>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div id="modal-sections-{{route_id}}" uk-modal>
                <div class="uk-modal-dialog">
                    <button class="uk-modal-close-default" type="button" uk-close></button>

                    <div class="uk-modal-header">
                        <i class=" fa fa-arrow-circle-down fa-2x" style="color: {{colour}}"></i>
                        <span class="uk-modal-title">Route #{{number}}</span>
                    </div>

                    <div class="uk-modal-body">
                        <div class="uk-container uk-flex-center uk-text-center ">
                            <div class="uk-grid uk-grid-small  uk-child-width-1-2@s">

                                <a class='uk-link-reset' href="/">
                                    <div class="uk-card uk-card-hover uk-card-header uk-margin-remove">
                                        <i class=" fas fa-eye fa-lg fa-3x" style="color: #16A085"></i>
                                        <p class="uk-margin-remove-bottom">View Route</p>
                                        <span class=" uk-text-meta">Route Details and Statistics</span>
                                    </div>
                                </a>

                                <a class='uk-link-reset' href="/">
                                    <div class="uk-card uk-card-hover uk-card-header">
                                        <i class=" fas fa-bullseye fa-lg fa-3x" style="color: #C0392B "></i>
                                        <p class="uk-margin-remove-bottom">Climbed On-Sight!</p>
                                        <span class="uk-text-meta">In One With No Beta</span>
                                    </div>
                                </a>

                                <a class='uk-link-reset' href="/">
                                    <div class="uk-card uk-card-hover uk-card-header ">
                                        <i class=" fas fa-chart-line fa-lg fa-3x" style="color: #F4D03F"></i>
                                        <p class="uk-margin-remove-bottom">Attempted Climb </p>
                                        <span class=" uk-text-meta">Failure is Success in Progress</span>
                                    </div>
                                </a>

                                <a id="modal-sections-record-climb-{{route_id}}" class='uk-link-reset'
                                    href="/users/{{user_id}}/{{gym_id}}/routes/{{route_id}}/record/">
                                    <div class=" uk-card uk-card-hover uk-card-header">
                                        <i class=" far fa-hand-rock fa-lg fa-3x" style="color: #2471A3"></i>
                                        <p class="uk-margin-remove-bottom">Record Climb</p>
                                        <span class="uk-text-meta">Climbed in N Attempts</span>
                                    </div>
                                </a>

                            </div>
                        </div>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</section>
{% endblock %}